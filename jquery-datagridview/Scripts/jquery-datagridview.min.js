function DataGridViewMetaData(n,t,i,r,u){this.sortColumn=n;this.sortDescending=!!t;this.totalRows=isNaN(i)||i<0?0:parseInt(i);this.rowsPerPage=isNaN(r)||r<0?0:parseInt(r);this.page=isNaN(u)||u<0?0:parseInt(u);this.totalPages=Math.ceil(i/r)}(function(n){function t(t,r){let u=this;this.element=t;this.options=r;this.data=[];this.metaData=this.options.getMetaData(this.element);this.elementClass="datagridview-"+Math.random().toString().replace(".","");this.element.addClass("datagridview");this.element.addClass(this.elementClass);this.element.children().hide();this.header=this.createElement("<div>","datagridview-header");this.body=this.createElement("<div>","datagridview-body");this.contentContainer=this.createElement("<div>","datagridview-content-container").append(this.header,this.body);this.footer=this.createElement("<div>");this.footerPlugins=this.options.getFooterPlugins(this.element);this.sortToggle=this.createElement("<div>","datagridview-sort-toggle");this.element.append(this.contentContainer,this.footer);this.style=n("<style>",{type:"text/css"});n("body").append(this.style);this.options.columns.forEach(function(t){t.class="datagridview-column-"+Math.random().toString().replace(".","");t.width=isNaN(t.width)||t.width<=0?10:parseInt(t.width);u.header.append(n("<div>").text(t.header||t.data).addClass(t.class).addClass("datagridview-header-cell").attr("title",t.header||t.data).data("column",t.data).data("sort-column",t.sortData||t.data))});this.setColumnWidth();this.displaySortOrder();this.displayFooters();this.header.on("mouseup","div.datagridview-header-cell",this,i.headerMouseup)}n.fn.datagridview=function(i,r){return n.isFunction(i)&&(r=i,i=null),n(this).each(function(){let u=n(this).data("datagridview");if(!n(this).data("datagridview")){if(i&&i.columns)if(n.isArray(i.columns)){if(!i.columns.every(function(n){return!!n.data}))throw'datagridview error: expected each item in option "columns" to have property "data"';}else throw'datagridview error: expected option "columns" to be an array';else throw'datagridview error: expected required option "columns"';let r=n.extend({},n.fn.datagridview.defaults,i);u=new t(n(this),r);n(this).data("datagridview",u)}n.isFunction(r)&&r.bind(u)(u)})};n.fn.datagridview.defaults={getMetaData:function(){return new DataGridViewMetaData(null,!1,0,1,0)},getFooterPlugins:function(){return[n.fn.datagridview.footerPlugins.prevNext,n.fn.datagridview.footerPlugins.displayFull]}};n.fn.datagridview.footerPlugins={displayBasic:function(t,i){n(t).append(n("<div>").text("Page "+(i.page+1)+" of "+i.totalPages))},displayFull:function(t,i){let r=i.page*i.rowsPerPage+1,u=(i.page+1)*i.rowsPerPage;n(t).append(n("<div>").text("Page "+(i.page+1)+" of "+i.totalPages+", rows "+r+" to "+u+" of "+i.totalRows))},prevNext:function(t,i,r){let u=n("<button>").addClass("datagridview-paging-first").text("|<").click(function(){r.initiatePaging(0,i.rowsPerPage)}).prop("disabled",i.page<=0),f=n("<button>").addClass("datagridview-paging-prev").text("<").click(function(){r.initiatePaging(i.page-1,i.rowsPerPage)}).prop("disabled",i.page<=0),e=n("<button>").addClass("datagridview-paging-prev").text(">").click(function(){r.initiatePaging(i.page+1,i.rowsPerPage)}).prop("disabled",i.page>=i.totalPages-1),o=n("<button>").addClass("datagridview-paging-last").text(">|").click(function(){r.initiatePaging(i.totalPages-1,i.rowsPerPage)}).prop("disabled",i.page>=i.totalPages-1);n(t).append(u,f,e,o)}};t.prototype.setColumnWidth=function(){let n="",t=this.options.columns.reduce(function(n,t){return n+t.width},0);t>100&&(n="."+this.elementClass+" div.datagridview-header, ."+this.elementClass+" div.datagridview-body { width: "+t+"%}\n");this.style.html(this.options.columns.reduce(function(n,t){return n+"."+t.class+"{ flex-grow: "+t.width+" }\n"},n))};t.prototype.populate=function(t,i){let r=this.createElement("<div>","datagridview-body");for(let t=0;t<i.length;t++){let u=i[t],f=this.createElement("<div>","datagridview-row");for(let t=0;t<this.options.columns.length;t++){let i=this.options.columns[t];f.append(n("<div>").text(u[i.data]||"").addClass(i.class).attr("title",u[i.data]||""))}r.append(f)}this.body.replaceWith(r);this.body=r;this.data=i;this.metaData=t instanceof DataGridViewMetaData?t:t?new DataGridViewMetaData(t.sortColumn,t.sortDescending,t.totalRows||this.data.length,t.rowsPerPage||this.data.length,t.page||0):new DataGridViewMetaData(t.sortColumn,t.sortDescending,this.data.length,this.data.length,0);this.displaySortOrder();this.displayFooters()};t.prototype.createElement=function(t,i){let r=n.extend.apply({},Array.prototype.slice.call(arguments,2));return n(t,r).addClass(i)};t.prototype.remove=function(){this.element.removeClass("datagridview");this.element.removeClass(this.elementClass);this.element.children().show();this.contentContainer.remove();this.footer.remove();this.style.remove()};t.prototype.getMetaData=function(){return this.metaData.clone()};t.prototype.displaySortOrder=function(){let i=this,t=this.header.find("div.datagridview-header-cell").filter(function(){return n(this).data("sort-column")===i.metaData.sortColumn});t.length>0?(this.metaData.sortDescending?this.sortToggle.removeClass("datagridview-sort-toggle-ascending").addClass("datagridview-sort-toggle-descending"):this.sortToggle.removeClass("datagridview-sort-toggle-descending").addClass("datagridview-sort-toggle-ascending"),t.append(this.sortToggle),this.sortToggle.show()):this.sortToggle.hide()};t.prototype.displayFooters=function(){let t=this,i=this.createElement("<div>","datagridview-footer");this.footer.children().remove();this.footerPlugins.length!==0&&n.each(this.footerPlugins,function(){let n=t.createElement("<div>","datagridview-footer-element");i.append(n);this(n,t.getMetaData(),t)});this.footer.replaceWith(i);this.footer=i};t.prototype.initiatePaging=function(n,t){let i=new DataGridViewMetaData(this.metaData.sortColumn,this.metaData.sortDescending,this.metaData.totalRows,t||this.metaData.rowsPerPage,n);this.element.trigger("datagridview.paged",i)};let i={headerMouseup:function(t){if(t.which===1){let i=t.data.getMetaData(),r=n(this).data("sort-column");i.sortColumn===r?i.sortDescending=!i.sortDescending:(i.sortColumn=r,i.sortDescending=!1);t.data.element.trigger("datagridview.sorted",i)}}}})(jQuery);DataGridViewMetaData.prototype.clone=function(){return new DataGridViewMetaData(this.sortColumn,this.sortDescending,this.totalRows,this.rowsPerPage,this.page)};