function DataGridViewRequestParameters(n,t){this.sortColumn=n;this.sortDescending=!!t}(function(n){function t(t,r){let u=this;this.element=t;this.options=r;this.data=[];this.elementClass="datagridview-"+Math.random().toString().replace(".","");this.element.addClass("datagridview");this.element.addClass(this.elementClass);this.element.children().hide();this.headerRow=this.createElement("<tr>");this.header=this.createElement("<thead>","datagridview-header").append(this.headerRow);this.body=this.createElement("<tbody>","datagridview-body");this.footer=this.createElement("<tfoot>","datagridview-footer");this.sortToggle=this.createElement("<div>","datagridview-sort-toggle");this.element.append(this.header,this.body,this.footer);this.style=n("<style>",{type:"text/css"});n("body").append(this.style);this.options.columns.forEach(function(t){t.class="datagridview-column-"+Math.random().toString().replace(".","");t.width=isNaN(t.width)||t.width<0?10:parseInt(t.width);u.headerRow.append(n("<th>").text(t.header||t.data).addClass(t.class).attr("title",t.header||t.data).data("column",t.data))});this.setColumnWidth();this.headerRow.on("mouseup","th",this,i.headerMouseup)}n.fn.datagridview=function(i,r){return n.isFunction(i)&&(r=i,i=null),n(this).each(function(){let u=n(this).data("datagridview");if(!n(this).data("datagridview")){if(i&&i.columns)if(n.isArray(i.columns)){if(!i.columns.every(function(n){return!!n.data}))throw'datagridview error: expected each item in option "columns" to have property "data"';}else throw'datagridview error: expected option "columns" to be an array';else throw'datagridview error: expected required option "columns"';let r=n.extend({},n.fn.datagridview.defaults,i);u=new t(n(this),r);n(this).data("datagridview",u)}n.isFunction(r)&&r.bind(u)(u)})};n.fn.datagridview.defaults={};t.prototype.setColumnWidth=function(){let n="",t=this.options.columns.reduce(function(n,t){return n+t.width},0);t>100&&(n="."+this.elementClass+" tbody, ."+this.elementClass+" thead { width: "+t+"%}\n");this.style.html(this.options.columns.reduce(function(n,t){return n+"."+t.class+"{ flex-grow: "+t.width+" }\n"},n))};t.prototype.populate=function(t,i){let r=this.createElement("<tbody>","datagridview-body");for(let t=0;t<i.length;t++){let u=i[t],f=n("<tr>");for(let t=0;t<this.options.columns.length;t++){let i=this.options.columns[t];f.append(n("<td>").text(u[i.data]||"").addClass(i.class).attr("title",u[i.data]||""))}r.append(f)}this.body.replaceWith(r);this.body=r;this.adjustHeader();this.requestParameters=t||new DataGridViewRequestParameters(null,!1);this.displaySortOrder()};t.prototype.adjustHeader=function(){this.header.css("padding-right",this.header.prop("clientWidth")-this.body.prop("clientWidth"))};t.prototype.createElement=function(t,i){let r=n.extend.apply({},Array.prototype.slice.call(arguments,2));return n(t,r).addClass(i)};t.prototype.remove=function(){this.element.removeClass("datagridview");this.element.removeClass(this.elementClass);this.element.children().show();this.header.remove();this.body.remove();this.footer.remove();this.style.remove()};t.prototype.displaySortOrder=function(){let i=this,t=this.headerRow.find("th").filter(function(){return n(this).data("column")===i.requestParameters.sortColumn});t.length>0?(this.requestParameters.sortDescending?this.sortToggle.removeClass("datagridview-sort-toggle-ascending").addClass("datagridview-sort-toggle-descending"):this.sortToggle.removeClass("datagridview-sort-toggle-descending").addClass("datagridview-sort-toggle-ascending"),t.append(this.sortToggle),this.sortToggle.show()):this.sortToggle.hide()};let i={headerMouseup:function(t){if(t.which===1){let i=n(this).data("column");t.data.requestParameters.sortColumn===i?t.data.requestParameters.sortDescending=!t.data.requestParameters.sortDescending:(t.data.requestParameters.sortColumn=i,t.data.requestParameters.sortDescending=!1);t.data.element.trigger("datagridview.sorted",t.data.requestParameters)}}}})(jQuery);