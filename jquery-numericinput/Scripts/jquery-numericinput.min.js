(function(n){function t(n,t){this.element=n;this.options=t;this.decimalSeparator=t.getDecimalSeparator(this.element);this.decimalDigits=t.getDecimalDigits(this.element);this.negativeSymbol=t.getNegativeSymbol(this.element);this.groupSeparator=t.getGroupSeparator(this.element);this.groupSizes=t.getGroupSizes(this.element);this.element.addClass("numericinput");this.element.on("change",this,i.change)}n.fn.numericinput=function(i,r){return n.isFunction(i)&&(r=i,i=null),n(this).each(function(){let u=n(this).data("numericinput");if(!u){let r=n.extend({},n.fn.numericinput.defaults,i);u=new t(n(this),r);n(this).data("numericinput",u)}n.isFunction(r)&&r.bind(u)(u)})};n.fn.numericinput.defaults={getDecimalSeparator:function(t){let i=n(t).data("decimal-separator");return i||(i="."),i},getDecimalDigits:function(t){let i=parseInt(n(t).data("decimal-digits"));return(isNaN(i)||i<0)&&(i=2),i},getNegativeSymbol:function(t){let i=n(t).data("negative-symbol");return i||(i="-"),i},getGroupSeparator:function(t){let i=n(t).data("group-separator");return i||(i=","),i},getGroupSizes:function(t){let i=(n(t).data("group-sizes")||"").split(",").map(function(n){return parseInt(n)}).filter(function(n){return!isNaN(n)});return i.length==0&&(i=[3]),i}};t.prototype.remove=function(){this.element.removeClass("numericinput");this.element.off("change",i.change)};t.prototype.parseValue=function(){let n=this.element.val().replace(this.groupSeparator,"").replace(this.negativeSymbol,"-").replace(this.decimalSeparator,".");return parseFloat(n)};t.prototype.error=function(){let n=this;this.element.addClass("numericinput-error");window.setTimeout(function(){n.element.removeClass("numericinput-error")},200)};t.prototype.setValue=function(n){let t="";if(!isNaN(n)){let e=n<0,u=Math.abs(n),f=Math.floor(u).toString().split(""),i=0,r=this.groupSizes[i];while(f.length>0)r==0&&(i<this.groupSizes.length-1&&i++,t=this.groupSeparator+t,r=this.groupSizes[i]),t=f.pop()+t,r--;this.decimalDigits>0&&(t+=this.decimalSeparator+u.toFixed(this.decimalDigits).substr(-this.decimalDigits));e&&(t=this.negativeSymbol+t)}this.element.val(t)};let i={change:function(n){let t=n.data.parseValue(),i=!1;isNaN(t)&&(i=!0);n.data.setValue(t);i&&n.data.error()}}})(jQuery);